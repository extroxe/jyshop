"use strict";app.controller("modalRecomCtrl",["$scope","$modalInstance","_jiyin","params","FileUploader","dataToURL",function(i,t,o,n,e,m){i.infoList=n.infoList,i.title=n.title,i.ael=n.ael,i.is_point=n.isPoint,"add"==i.ael&&(i.infoList.type_id=0==i.is_point?"1":"2"),i.getType=function(){o.dataPost("admin/system_code_admin/get_by_type/recommend_commodity_type").then(function(t){i.typeList=t})},i.getType(),i.getCommo=function(){i.is_point===!0?o.dataPost("admin/commodity_admin/get_all_commodity_by_is_point",m({is_point:1})).then(function(t){i.commoList=t.data}):o.dataPost("admin/commodity_admin/get_all_commodity_by_is_point",m({is_point:0})).then(function(t){i.commoList=t.data})},i.getCommo(),i.cancel=function(){t.dismiss("cancel")},i.ok=function(){return i.infoList.commodity_id?i.infoList.type_id?i.infoList.start_time?i.infoList.end_time?void t.close(i.infoList):void o.msg("e","生效结束时间不能为空"):void o.msg("e","生效起始时间不能为空"):void o.msg("e","商品类型不能为空"):void o.msg("e","商品名称不能为空")}}]);