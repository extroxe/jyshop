app.controller("orderCtrl",["$scope","_jiyin","dataToURL","$stateParams","$state",function(t,a,e,i,n){t.orderList={},t.inputPage=1,t.keyword="",t.search=function(){t.inputPage=1,a.dataPost("admin/order_admin/paginate/"+t.inputPage+"/10",e({is_point:0,keyword:t.keyword})).then(function(a){t.orderList=a.data,t.totalPage=a.total_page})},$("#search").keydown(function(a){13==a.keyCode&&t.search()}),t.exinfo=function(e){a.dataGet("admin/order_admin/show_express_info_by_order_id/"+e.id).then(function(e){1==e.success?($("#list").modal("show"),t.exinfo=e.data.Traces):a.msg("e",e.msg)})},t.cancel=function(){$("#list").modal("hide")},t.getData=function(){a.dataPost("admin/order_admin/paginate/"+t.inputPage+"/10",e({is_point:0,keyword:t.keyword})).then(function(a){t.orderList=a.data,t.totalPage=a.total_page})},t.getData(),t.editList=function(e){t.title="编辑数据",a.modal({tempUrl:"/source/admin/tpl/modal/modal-orderList.html",tempCtrl:"modalOrderCtrl",ok:t.edit,size:"lg",params:{title:t.title,infoList:e,ael:"edit",isPoint:!1}})},t.edit=function(i){a.dataPost("admin/order_admin/update",e(i)).then(function(e){1==e.success?(a.msg("s",e.msg),t.getData()):a.msg("e",e.msg)})},t.lookSub=function(t){n.go("app.subOrderList",{id:t.id,type:"ord"})},t.nextPage=function(){t.inputPage<t.totalPage?(t.inputPage++,t.getData()):a.msg("e","当前是最后一页")},t.previousPage=function(){t.inputPage>1?(t.inputPage--,t.getData()):a.msg("e","当前是第一页")},t.firstPage=function(){t.inputPage=1,t.getData()},t.lastPage=function(){t.inputPage=t.totalPage,t.getData()},t.selectPage=function(a){t.inputPage=a,t.getData()}}]);